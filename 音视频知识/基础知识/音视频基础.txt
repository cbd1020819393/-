

## 封装格式
把视频数据和音频数据打包成一个文件的规范。
avi.rmvb,mp4,flv,mkv等都是封装格式。

## 视频播放器原理
视音频技术包含以下几点:
1.封装技术。
2.视频压缩编码技术。
3.音频压缩编码技术。
4.考虑到网络传输的话，包括流媒体协议技术。

### 播放网络视频
1.解协议
2.解封装
3.解码视音频
4.视音频同步

### 播放本地视频
1.解封装
2.解码视音频
3.视音频同步

#### 解协议的作用
将流媒体协议的数据，解析为标准的相应的封装格式数据。
流媒体协议有HTTP,RTMP,MMS等。这些协议在传输视音频数据的同时，
会传输一些信令数据。解协议的过程就是去除掉信令数据只保留视音频数据。

#### 解封装的作用
就是将输入的封装格式的数据，分离称为音频流压缩编码数据和视频流压缩编码数据。
封装格式种类很多，如MP4，MKV,RMVB,,TS,FLV,AVI等等。
封装格式的作用是将已经压缩编码的视频数据何音频数据按照一定的格式放在一起。

#### 解码的作用
就是讲视频/音频压缩编码数据，解码称为非压缩的视频/音频原始数据。
音频压缩编码标准包含AAC,MP3，AC-3等等。
视频压缩编码标准包含H.264,MPEG2，VC-1等等。
解码是整个系统中最重要也是最复杂的一个环节。
通过解码，压缩编码的视频数据输出成为非压缩的颜色数据，例如YUV420P,RGB等等。
压缩编码的音频诗句输出成为非压缩的音频抽样数据，例如PCM数据。

#### 视音频同步的作用
就是根据封装模块处理过程中获取到的参数信息，同步解码出来的视频和音频数据，
并将视频音频数据送至系统显卡何声卡播放出来。

### 流媒体协议
流媒体协议是服务器于客户端之间通信遵循的规定。
名称      推出机构     传输层协议     客户端     目前使用领域
RTSP+RTP    IETF        TCP+UDP       VLC,WMP        IPTV
RTMP      Adobe Inc.      TCP         Flash       互联网直播
RTMFP     Adobe Inc.      UDP         Flash       互联网直播
MMS     Microsoft Inc.  TCP/UDP        WMP      互联网直播+点播
HTTP      WWW+IETF        TCP         Flash       互联网点播

### 封装格式
封装格式的主要作用是把视频码流和音频码流按照一定的格式存储在一个文件中。

名称    推出机构        	流媒体      支持的视频编码    				 支持的音频编码    							目前使用领域
AVI     Microsoft Inc.  	不支持		几乎所有格式					  几乎所有格式      						 BT下载影视
MP4     MPEG             	支持		MPEG-2, MPEG-4,H.264, H.263等     AAC, MPEG-1 Layers I,II,III, AC-3等		互联网视频网站
TS		MPEG			 	支持       MPEG-1, MPEG-2, MPEG-4, H.264     MPEG-1 Layers I, II, III, AAC,             IPTV，数字电视							  
FLV     Adobe Inc.       	支持       Sorenson, VP6, H.264              MP3, ADPCM, Linear PCM, AAC等              互联网视频网站
MKV    CoreCodec Inc.    	支持       几乎所有格式                      几乎所有格式                               互联网视频网站
RMVB   Real Networks Inc.	支持       RealVideo 8, 9, 10                AAC, Cook Codec, RealAudio Lossless         BT下载影视

### 视频编码
视频编码的主要作用是将视频像素数据（RGB,YUV等）压缩成为视频码流，
从而降低视频的数据量。


### 主流编码标准
H.264仅仅是一个编码标准，而不是一个具体的编码器，H.264只是给编码器的实现提供
参照用的。


### 音频编码
音频编码的主要作用是将音频采样数据（PCM等）压缩成为音频码流，
从而降低音频的数据量。


### 直播平台参数对比
直播服务普遍采用了RTMP作为流媒体协议，FLV作为封装格式，H.264作为视频编码格式，AAC作为音频编码格式。

### 点播平台参数对比
点播服务采用了HTTP作为流媒体协议，封装格式有FLV,MP4等,H.264作为视频编码格式，AAC作为音频编码格式。
