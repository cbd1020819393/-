1. http://blog.csdn.net/clh604/article/details/22179907
2. http://www.jianshu.com/p/15703d8c34e9
对以上文章做的笔记 



## http为什么不安全
http协议没有任何的加密以及身份验证的机制，非常容易遭遇窃听、劫持、篡改、因此会造成个人隐私泄露，恶意的流量劫持等严重的安全问题。

## https简介
HTTPS其实是两部分组成：HTTP+SSL/TLS,也就是在HTTP上又加了一层处理加密信息的模块。服务端和客户端的信息传输都会通过TLS进行加密，所以传输的数据都是加密后的数据。目前只有少数大公司全https,小公司只要保证用户登录以及交易用上就可。原因是https成本高，速度又慢。


## https如何保证安全
引入加密以及身份验证机制。
1. 通过公钥相关机构（CA）,CA将公钥放入数字证书并将数字证书颁发给客户端。
2. 非对称加密方法，客户端用公钥加密，防止被破解。
3. 服务端用私钥解密后再通过对称密钥对这个私密钥来进行后续的数据加密。

安全=对称加密算法加密数据+非对称加密算法交换密钥+数字证书验证身份。



![](http://pic002.cnblogs.com/images/2012/38542/2012072310244445.png)

1. 客户端发起HTTPS请求
2. 服务端配置，采用https协议的服务器必须要有一套数字证书，可以自己制作，也可以向组织申请。区别就是自己颁发的证书需要客户端验证通过，才可以继续访问，而使用受信任的公司申请的证书则不会弹窗提示页面。这套证书其实就是一对公钥和私钥。
3. 传送证书，这个证书其实就是公钥，只是包含裂痕多信息，如证书的颁发机构，过期时间等等。
4. 客户端解析证书，这部分工作是有客户端的TLS来完成的，首先会验证公钥是否有效，比如颁发机构，过期时间等等，如果发现异常，则会弹出警告框，提示证书有问题。如果证书没问题，就生成一个随机值。然后用证书对该随机值进行加密。
5. 传送加密信息，传送的是证书加密后的随机值，目的就是让服务端得到这个随机值，以后客户端和服务端的同学就可以通过这个随机值来进行加密解密。
6. 服务端解密信息，服务端通过私钥解密后，得到客户端传过来的随机值，然后把内容通过改值通过对称加密。
7. 传输加密后的信息。这部分信息时服务端用私钥对称加密后的信息，可以在客户端被还原。
8. 客户端解密信息，客户端用之前生成的私钥解密服务端传过来的信息，于是获取了解密后的内容。整个过程第三方即使坚挺了数据，也束手无策。